version: v1
plugins:
  # Generazione per Flutter (Dart)
  # Usa "dart" -> buf cercherà "protoc-gen-dart"
  - plugin: dart
    out: ../services/client/lib/src/generated
    opt:
      - grpc

  # Generazione per Angular (TypeScript)
  # Usa "ts" -> buf cercherà "protoc-gen-ts"
  - plugin: ts
    out: ../services/web_admin/src/app/proto
    opt:
      - service=grpc-web
  
  # Generazione per gRPC-Web
  # Usa "grpc-web" -> buf cercherà "protoc-gen-grpc-web"
  - plugin: grpc-web
    out: ../services/web_admin/src/app/proto
    opt:
      - import_style=typescript
      - mode=grpcwebtext